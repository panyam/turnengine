<div
  class="p-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white h-full overflow-y-auto"
>
  <!-- Reference Image Section -->
  <div class="space-y-4">
    <div class="space-y-3">
      <!-- Load from clipboard button -->
      <button
        id="load-reference-btn"
        class="w-full px-3 py-2 text-xs bg-blue-600 text-white rounded hover:bg-blue-700"
      >
        üìã Load from Clipboard
      </button>

      <!-- File input fallback (hidden) -->
      <input
        type="file"
        id="reference-file-input"
        accept="image/*"
        style="display: none"
      />

      <!-- Load from file button -->
      <button
        id="load-reference-file-btn"
        class="w-full px-3 py-2 text-xs bg-green-600 text-white rounded hover:bg-green-700"
      >
        üìÅ Load from File
      </button>
    </div>

    <!-- Reference mode selector -->
    <div>
      <div class="text-xs font-medium text-gray-700 dark:text-gray-300 mb-2">
        Display Mode
      </div>
      <div class="flex space-x-1">
        <label class="flex-1 cursor-pointer">
          <input
            type="radio"
            name="reference-mode"
            value="0"
            id="reference-mode-hidden"
            class="sr-only"
            checked
          />
          <div class="text-xs px-2 py-1 text-center rounded border border-gray-300 dark:border-gray-600 transition-colors duration-200 bg-blue-500 text-white font-medium">
            Hidden
          </div>
        </label>
        <label class="flex-1 cursor-pointer">
          <input
            type="radio"
            name="reference-mode"
            value="1"
            id="reference-mode-background"
            class="sr-only"
          />
          <div class="text-xs px-2 py-1 text-center rounded border border-gray-300 dark:border-gray-600 transition-colors duration-200 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600">
            Background
          </div>
        </label>
        <label class="flex-1 cursor-pointer">
          <input
            type="radio"
            name="reference-mode"
            value="2"
            id="reference-mode-overlay"
            class="sr-only"
          />
          <div class="text-xs px-2 py-1 text-center rounded border border-gray-300 dark:border-gray-600 transition-colors duration-200 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600">
            Overlay
          </div>
        </label>
      </div>
    </div>

    <!-- Alpha transparency slider -->
    <div>
      <label
        for="reference-alpha"
        class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"
      >
        Transparency: <span id="reference-alpha-value">50%</span>
      </label>
      <input
        type="range"
        id="reference-alpha"
        min="0"
        max="100"
        value="50"
        class="w-full h-1 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"
      />
    </div>

    <!-- Position controls (for overlay mode) -->
    <div
      id="reference-position-controls"
      class="space-y-3"
      style="display: none"
    >
      <div class="text-xs font-medium text-gray-700 dark:text-gray-300">
        Position Controls
      </div>
      <div class="grid grid-cols-2 gap-2">
        <button
          id="reference-reset-position"
          class="px-2 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600"
        >
          Reset Position
        </button>
        <button
          id="reference-reset-scale"
          class="px-2 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600"
        >
          Reset Scale
        </button>
      </div>

      <!-- X/Y Scale Controls -->
      <div class="space-y-2">
        <div class="text-xs font-medium text-gray-700 dark:text-gray-300">
          Scale Controls
        </div>

        <!-- X Scale -->
        <div class="flex items-center space-x-1">
          <span class="text-xs text-gray-600 dark:text-gray-400 w-4">X:</span>
          <button
            id="reference-scale-x-minus"
            class="px-1 py-0.5 text-xs bg-gray-400 text-white rounded hover:bg-gray-500 w-6"
          >
            -
          </button>
          <input
            id="reference-scale-x-value"
            type="number"
            step="0.01"
            min="0.1"
            max="5.0"
            value="1.00"
            class="w-full text-xs text-center px-1 py-0.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          />
          <button
            id="reference-scale-x-plus"
            class="px-1 py-0.5 text-xs bg-gray-400 text-white rounded hover:bg-gray-500 w-6"
          >
            +
          </button>
        </div>

        <!-- Y Scale -->
        <div class="flex items-center space-x-1">
          <span class="text-xs text-gray-600 dark:text-gray-400 w-4">Y:</span>
          <button
            id="reference-scale-y-minus"
            class="px-1 py-0.5 text-xs bg-gray-400 text-white rounded hover:bg-gray-500 w-6"
          >
            -
          </button>
          <input
            id="reference-scale-y-value"
            type="number"
            step="0.01"
            min="0.1"
            max="5.0"
            value="1.00"
            class="w-full text-xs text-center px-1 py-0.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          />
          <button
            id="reference-scale-y-plus"
            class="px-1 py-0.5 text-xs bg-gray-400 text-white rounded hover:bg-gray-500 w-6"
          >
            +
          </button>
        </div>
      </div>

      <!-- X/Y Position Controls -->
      <div class="space-y-2">
        <div class="text-xs font-medium text-gray-700 dark:text-gray-300">
          Position Controls
        </div>

        <!-- X Position -->
        <div class="flex items-center space-x-1">
          <span class="text-xs text-gray-600 dark:text-gray-400 w-4">X:</span>
          <button
            id="reference-position-x-minus"
            class="px-1 py-0.5 text-xs bg-gray-400 text-white rounded hover:bg-gray-500 w-6"
          >
            -
          </button>
          <input
            id="reference-position-x-value"
            type="number"
            step="0.1"
            value="0"
            class="w-full text-xs text-center px-1 py-0.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          />
          <button
            id="reference-position-x-plus"
            class="px-1 py-0.5 text-xs bg-gray-400 text-white rounded hover:bg-gray-500 w-6"
          >
            +
          </button>
        </div>

        <!-- Y Position -->
        <div class="flex items-center space-x-1">
          <span class="text-xs text-gray-600 dark:text-gray-400 w-4">Y:</span>
          <button
            id="reference-position-y-minus"
            class="px-1 py-0.5 text-xs bg-gray-400 text-white rounded hover:bg-gray-500 w-6"
          >
            -
          </button>
          <input
            id="reference-position-y-value"
            type="number"
            step="0.1"
            value="0"
            class="w-full text-xs text-center px-1 py-0.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          />
          <button
            id="reference-position-y-plus"
            class="px-1 py-0.5 text-xs bg-gray-400 text-white rounded hover:bg-gray-500 w-6"
          >
            +
          </button>
        </div>
      </div>

      <div class="text-xs text-gray-500 dark:text-gray-400">
        üí° In overlay mode: mouse wheel = uniform zoom, drag = move reference
      </div>
    </div>

    <!-- Clear reference image button -->
    <button
      id="clear-reference-btn"
      class="w-full px-3 py-2 text-xs bg-red-600 text-white rounded hover:bg-red-700"
    >
      üóëÔ∏è Clear Reference Image
    </button>

    <!-- Status display -->
    <div class="mt-4 pt-3 border-t border-gray-200 dark:border-gray-600">
      <div class="text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">
        Status
      </div>
      <div
        id="reference-status"
        class="text-xs text-gray-600 dark:text-gray-400"
      >
        No reference image loaded
      </div>
    </div>
  </div>
</div>
